define("app",["exports","aurelia-fetch-client","./interactiveArea","./mainHandlers","./supportingHandlers"],function(t,e,n,i,r){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;t.App=function(){function t(){o(this,t),this.mainInfo="This page is for authenticated users only. Welcome!",this.todoDescription="",this.rvalues=[]}return t.prototype.attached=function(){var t=document.getElementById("interactive-area");window.interactiveArea=new n.InteractiveArea(0,t.getContext("2d"),t.width,t.height),interactiveArea.drawArea(),interactiveArea.setRadius(2),interactiveArea.drawArea()},t.prototype.pressedR=function(t){window.supportingHadlers=new r.SupportingHandlers,window.mainHadlers=new i.MainHandlers,supportingHadlers.setR(t),supportingHadlers.checkButtonsR(),mainHadlers.radiusChangedHandler()},t}()}),define("environment",["exports"],function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1}}),define("interactiveArea",["exports"],function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();t.InteractiveArea=function(){function t(n,i,r,o){e(this,t),this.radius=n*t.DEFAULT_STEP,this.gcontext=i,this.height=o,this.width=r,this.axis_color="#000",this.fill_color="#66608B"}return n(t,null,[{key:"DEFAULT_STEP",get:function(){return 40}}]),t.prototype.setRadius=function(e){this.radius=e*t.DEFAULT_STEP,this.clearArea()},t.prototype.clearArea=function(){this._clearCanvas(),this.drawArea()},t.prototype.drawArea=function(){this._drawRectPart(),this._drawArcPart(),this._drawTrianglePart(),this.drawAxis(this.gcontext,this.width,this.height)},t.prototype.drawPoint=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#000";this.gcontext.fillStyle=n,this.gcontext.beginPath(),this.gcontext.arc(t,e,3,0,2*Math.PI),this.gcontext.closePath(),this.gcontext.stroke(),this.gcontext.fill()},t.prototype._clearCanvas=function(){this.gcontext.clearRect(0,0,this.width,this.height)},t.prototype._drawRectPart=function(){this.gcontext.strokeStyle=this.axis_color,this.gcontext.fillStyle=this.fill_color,this.gcontext.fillRect(this.height/2,this.width/2,this.radius,this.radius),this.gcontext.strokeRect(this.height/2,this.width/2,this.radius,this.radius)},t.prototype._drawArcPart=function(){this.gcontext.fillStyle=this.fill_color,this.gcontext.beginPath(),this.gcontext.arc(this.width/2,this.height/2,this.radius/2,1.5*Math.PI,2*Math.PI),this.gcontext.lineTo(this.height/2,this.width/2),this.gcontext.moveTo(this.height/2,this.width/2),this.gcontext.closePath(),this.gcontext.fill(),this.gcontext.stroke()},t.prototype._drawTrianglePart=function(){this.gcontext.fillStyle=this.fill_color,this.gcontext.beginPath(),this.gcontext.moveTo(this.width/2,this.height/2),this.gcontext.lineTo(this.width/2,this.height/2+this.radius),this.gcontext.lineTo(this.width/2-this.radius/2,this.height/2),this.gcontext.fill(),this.gcontext.closePath(),this.gcontext.stroke()},t.prototype.drawAxis=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#000";t.strokeStyle=i,t.beginPath(),t.moveTo(e/2,n),t.lineTo(e/2,0),t.moveTo(0,n/2),t.lineTo(e,n/2),t.stroke(),t.closePath()},t}()}),define("main",["exports","./environment","aurelia-fetch-client"],function(t,e,n){"use strict";function i(t){t.use.standardConfiguration().feature("resources"),r.default.debug&&t.use.developmentLogging(),r.default.testing&&t.use.plugin("aurelia-testing"),t.start().then(function(){return t.setRoot()})}Object.defineProperty(t,"__esModule",{value:!0}),t.configure=i;var r=function(t){return t&&t.__esModule?t:{default:t}}(e)}),define("mainHandlers",["exports","./supportingHandlers","./table","jquery","jquery-ui-dist"],function(t,e,n,i){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.MainHandlers=void 0;var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(i);t.MainHandlers=function(){function t(){r(this,t)}return t.prototype.submitClick=function(){var t=checkButtonsX(),e=checkButtonsR(),n=checkTextY();if(t&&n&&e){var i=Number(document.getElementById("hidden_r").value),r=Number(document.getElementById("hidden_x").value),o=findCoordinate(Number(document.getElementById("y").value));o=makeOriginalCoordinates(o),sendSinglePoint(r,o,i)}},t.prototype.click=function(t){if(0!=checkButtonsR()){var e=Number(document.getElementById("hidden_r").value),n=makeOriginalCoordinates(t.clientX-258),i=-makeOriginalCoordinates(t.clientY-105);sendSinglePoint(n,i,e)}},t.prototype.radiusChangedHandler=function(){if(window.supportingHadlers=new e.SupportingHandlers,window.table=new n.Table,window.supportingHadlers.checkButtonsR()){var t=Number(document.getElementById("hidden_r").value);window.interactiveArea.setRadius(t),o.ajax({url:"/change_r",type:"GET",data:{r:t},success:function(t){var e=JSON.parse(t.X);alert(e);var n=JSON.parse(t.Y);alert(n);var i=JSON.parse(t.R);alert(i);var r=JSON.parse(t.isInside);alert(r);var o=JSON.parse(t.color);alert(o);var a;alert(a),document.getElementById("answer").innerHTML=window.table.tablePrintHeader();for(var s=0;s<e.length;s++)a=o[s]?"green":"red",window.interactiveArea.drawPoint(window.supportingHadlers.findCoordinate(e[s]),400-window.supportingHadlers.findCoordinate(n[s]),a),document.getElementById("answer").innerHTML+=window.table.tableAddRow(e[s],n[s],i[s],r[s],a)}})}},t.prototype.sendSinglePoint=function(t,e,n){o.ajax({url:"/add_point",type:"GET",data:{x:t,y:e,r:n},success:function(t){if("access deny"==t.Owner)return alert("access deny"),void document.location.replace("/");var e;e=t.color?"green":"red",document.getElementById("answer").innerHTML+=tableAddRow(t.X,t.Y,t.R,t.color,e),window.interactiveArea.drawPoint(findCoordinate(t.X),400-findCoordinate(t.Y),e)}})},t.prototype.deletePoints=function(){document.getElementById("answer").innerHTML=tablePrintHeader(),o.ajax({url:"/remove_points",type:"GET",data:{},success:function(t){radiusChangedHandler()}})},t}()}),define("supportingHandlers",["exports"],function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.SupportingHandlers=function(){function t(){e(this,t)}return t.prototype.findCoordinate=function(t){Number(document.getElementById("hidden_r").value);return t<0?200-40*Math.abs(t):t>0?200+40*t:0==t?200:void 0},t.prototype.makeOriginalCoordinates=function(t){var e=Number(document.getElementById("hidden_r").value);return 0<=t&&t<200?(200-t)/(40*e)*-e:200<t&&t<=400?e*((t-200)/(40*e)):200==t?0:void 0},t.prototype.addErrorMessage=function(t,e){t.innerHTML=e},t.prototype.isNumeric=function(t){return/^[-+]?[0-9]+(\.[0-9]+)?$/.test(t)},t.prototype.checkTextY=function(){var t=document.getElementById("y").value,e="";return 0==t.length?e="Заполните это поле!":(!isNumeric(t)||t<=-5||t>=3)&&(e="Введено некорректное значение у!"),addErrorMessage(document.getElementById("text_fail_y"),e),0==e.length},t.prototype.setX=function(t){var e=document.getElementsByClassName("button_pressed_x");document.getElementById("hidden_x").value=t.value;for(var n=0;n<e.length;++n)e[n].className="button_x";t.className="button_pressed_x",t.blur()},t.prototype.checkButtonsX=function(){var t="";return""==document.getElementById("hidden_x").value&&(t="Значение X не выбрано!"),addErrorMessage(document.getElementById("x_fail"),t),0==t.length},t.prototype.setR=function(t){var e=document.getElementsByClassName("button_pressed_r");document.getElementById("hidden_r").value=t;for(var n=0;n<e.length;++n)e[n].className="button_r";document.getElementById("r="+t).className="button_pressed_r"},t.prototype.checkButtonsR=function(){var t="";return""==document.getElementById("hidden_r").value&&(t="Значение R не выбрано!"),document.getElementById("r_fail").innerHTML=t,0==t.length},t}()}),define("table",["exports"],function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});t.Table=function(){function t(){e(this,t)}return t.prototype.tablePrintHeader=function(){var t="";return t+='<table id="results-table"><tr>',t+="<td> X </td><td> Y </td><td> R </td><td> isInside </td><td> color </td>",t+="</tr>"},t.prototype.tableAddRow=function(t,e,n,i,r){var o="";return o+="<tr>",o+="<td>"+t+"</td><td>"+e+"</td><td>"+n+"</td><td>"+i+"</td><td>"+r+"</td>",o+="</tr>"},t.prototype.closeTable=function(){return"</table>"},t}()}),define("resources/index",["exports"],function(t){"use strict";function e(t){}Object.defineProperty(t,"__esModule",{value:!0}),t.configure=e}),define("text!app.html",["module"],function(t){t.exports='<template><h2>${mainInfo}</h2><p align="center"><b>R=</b> <input id="r=1" class="button_r" type="button" name="r" value="1" click.trigger="pressedR(1)"> <input id="r=2" class="button_r" type="button" name="r" value="2" click.trigger="pressedR(2)"> <input id="r=3" class="button_r" type="button" name="r" value="3" click.trigger="pressedR(3)"> <input type="hidden" id="hidden_r" name="r" value=""></p><p id="r_fail"></p><div class="container"><div class="box"><canvas id="interactive-area" width="400px" height="400px"></canvas><div id="scrollable_tarble"><table id="answer" style="border-spacing:50px 0;overflow:scroll"></table></div></div></div></template>'});