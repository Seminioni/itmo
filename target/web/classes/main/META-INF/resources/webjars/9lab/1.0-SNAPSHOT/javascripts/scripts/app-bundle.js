define("app",["exports","aurelia-router","aurelia-plugins-cookies"],function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.App=void 0;e.App=function(){function e(t){i(this,e),this.router=t,this.router.configure(function(e){e.title="Aurelia",e.map([{route:["","login"],name:"login",moduleId:"./login",nav:!0,title:"login"},{route:"register",name:"register",moduleId:"./register",nav:!0,title:"register"},{route:"mainApplication",name:"mainApplication",moduleId:"./mainApplication",nav:!0,title:"mainApplication"},{route:"logout",name:"logout",moduleId:"./logout",nav:!0,title:"logout"}])})}return e.inject=function(){return[t.Router]},e.prototype.determineActivationStrategy=function(){return t.activationStrategy.replace},e}()}),define("aurelia-plugins-cookies",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.Cookies=function(){function e(){t(this,e)}return e.get=function(e){var t=this.getAll();return t&&t[e]?t[e]:null},e.getAll=function(){return this._parse(document.cookie)},e.getObject=function(e){var t=this.get(e);return t?JSON.parse(t):t},e.put=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.expires;null==t&&(i="Thu, 01 Jan 1970 00:00:01 GMT"),"string"==typeof i&&(i=new Date(i));var a=this._encode(e)+"="+(null!=t?this._encode(t):"");n.path&&(a+="; path="+n.path),n.domain&&(a+="; domain="+n.domain),n.expires&&(a+="; expires="+i.toUTCString()),n.secure&&(a+="; secure"),document.cookie=a},e.putObject=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.put(e,JSON.stringify(t),n)},e.remove=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.put(e,null,t)},e.removeAll=function(){var e=this,t=this.getAll();Object.keys(t).forEach(function(t){return e.remove(t)})},e._decode=function(e){try{return decodeURIComponent(e)}catch(e){return null}},e._encode=function(e){try{return encodeURIComponent(e)}catch(e){return null}},e._parse=function(e){var t={},n=e.split(/ *; */);if(""===n[0])return t;for(var i=0,a=n.length;i<a;i+=1){var o=n[i].split("=");t[this._decode(o[0])]=this._decode(o[1])}return t},e}()}),define("environment",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={debug:!1,testing:!1}}),define("interactiveArea",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();e.InteractiveArea=function(){function e(n,i,a,o){t(this,e),this.radius=n*e.DEFAULT_STEP,this.gcontext=i,this.height=o,this.width=a,this.axis_color="#000",this.fill_color="#66608B"}return n(e,null,[{key:"DEFAULT_STEP",get:function(){return 40}}]),e.prototype.setRadius=function(t){this.radius=t*e.DEFAULT_STEP,this.clearArea()},e.prototype.clearArea=function(){this._clearCanvas(),this.drawArea()},e.prototype.drawArea=function(){this._drawRectPart(),this._drawArcPart(),this._drawTrianglePart(),this.drawAxis(this.gcontext,this.width,this.height)},e.prototype.drawPoint=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#000";this.gcontext.fillStyle=n,this.gcontext.beginPath(),this.gcontext.arc(e,t,3,0,2*Math.PI),this.gcontext.closePath(),this.gcontext.stroke(),this.gcontext.fill()},e.prototype._clearCanvas=function(){this.gcontext.clearRect(0,0,this.width,this.height)},e.prototype._drawRectPart=function(){this.gcontext.strokeStyle=this.axis_color,this.gcontext.fillStyle=this.fill_color,this.gcontext.fillRect(this.height/2,this.width/2,this.radius,this.radius),this.gcontext.strokeRect(this.height/2,this.width/2,this.radius,this.radius)},e.prototype._drawArcPart=function(){this.gcontext.fillStyle=this.fill_color,this.gcontext.beginPath(),this.gcontext.arc(this.width/2,this.height/2,this.radius/2,1.5*Math.PI,2*Math.PI),this.gcontext.lineTo(this.height/2,this.width/2),this.gcontext.moveTo(this.height/2,this.width/2),this.gcontext.closePath(),this.gcontext.fill(),this.gcontext.stroke()},e.prototype._drawTrianglePart=function(){this.gcontext.fillStyle=this.fill_color,this.gcontext.beginPath(),this.gcontext.moveTo(this.width/2,this.height/2),this.gcontext.lineTo(this.width/2,this.height/2+this.radius),this.gcontext.lineTo(this.width/2-this.radius/2,this.height/2),this.gcontext.fill(),this.gcontext.closePath(),this.gcontext.stroke()},e.prototype.drawAxis=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#000";e.strokeStyle=i,e.beginPath(),e.moveTo(t/2,n),e.lineTo(t/2,0),e.moveTo(0,n/2),e.lineTo(t,n/2),e.stroke(),e.closePath()},e}()}),define("login",["exports","aurelia-plugins-cookies","aurelia-fetch-client","aurelia-router"],function(e,t,n,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.LoginApplication=void 0;new n.HttpClient,e.LoginApplication=function(){function e(n){a(this,e),null!=t.Cookies.get("login")&&(document.location.href="/#/mainApplication",location.reload()),this.bio="Sashcha",this.group="3202",this.var="102",this.name="",this.pass="",this.API="http://localhost:9000",this.router=n}return e.prototype.determineActivationStrategy=function(){return i.activationStrategy.replace},e.prototype.process=function(){},e.prototype.signin=function(){var e=this.getName(),n=this.getPass();null!=e&&null!=n&&$.ajax({url:"/login",type:"GET",data:{username:e,password:n},success:function(e){var n=JSON.parse(e.status);2==n?document.getElementById("wrong").innerHTML="Incorrect Login":3==n?document.getElementById("wrong").innerHTML="Incorrect Password":(t.Cookies.put("login",e.login),window.location.replace("#/mainApplication"),window.location.reload(!1))}})},e.prototype.getName=function(){return 0==this.name.length?(document.getElementById("wrong").innerHTML="Please enter your login and password",null):(document.getElementById("wrong").innerHTML="",this.name)},e.prototype.getPass=function(){return 0==this.pass.length?(document.getElementById("wrong").innerHTML="Please enter your login and password",null):(document.getElementById("wrong").innerHTML="",this.pass)},e}()}),define("logout",["exports","aurelia-plugins-cookies"],function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Logout=void 0;e.Logout=function(){function e(){n(this,e)}return e.prototype.attached=function(){t.Cookies.removeAll(),document.location.href="/"},e}()}),define("main",["exports","./environment","aurelia-fetch-client"],function(e,t,n){"use strict";function i(e){e.use.standardConfiguration().plugin("aurelia-bootstrap").feature("resources"),a.default.debug&&e.use.developmentLogging(),a.default.testing&&e.use.plugin("aurelia-testing"),e.start().then(function(){return e.setRoot()})}Object.defineProperty(e,"__esModule",{value:!0}),e.configure=i;var a=function(e){return e&&e.__esModule?e:{default:e}}(t)}),define("mainApplication",["exports","aurelia-fetch-client","./interactiveArea","./mainHandlers","./supportingHandlers","aurelia-plugins-cookies"],function(e,t,n,i,a,o){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.mainApplication=void 0;e.mainApplication=function(){function e(){r(this,e),this.userId=o.Cookies.get("login"),null==this.userId&&(document.location.href="/"),this.mainInfo="This page is for authenticated users only. Welcome!",this.todoDescription="",this.rvalues=[],this.clickOnCanvas=function(e){window.mainHadlers=new i.MainHandlers,mainHadlers.click(e)},this.radiusChange=function(e){window.mainHadlers=new i.MainHandlers,mainHadlers.radiusChangedHandler(e)}}return e.prototype.attached=function(){var e=document.getElementById("interactive-area");window.interactiveArea=new n.InteractiveArea(0,e.getContext("2d"),e.width,e.height),interactiveArea.drawArea(),document.getElementById("interactive-area").addEventListener("click",this.clickOnCanvas),document.getElementById("hidden_r").addEventListener("change",this.radiusChange)},e.prototype.pressedR=function(e){window.supportingHadlers=new a.SupportingHandlers,window.mainHadlers=new i.MainHandlers,supportingHadlers.setR(e),supportingHadlers.checkButtonsR(),mainHadlers.radiusChangedHandler()},e.prototype.pressedX=function(e){window.supportingHadlers=new a.SupportingHandlers,window.mainHadlers=new i.MainHandlers,supportingHadlers.setX(e),supportingHadlers.checkButtonsX()},e.prototype.checkText=function(){window.supportingHadlers=new a.SupportingHandlers,window.supportingHadlers.checkTextY()},e.prototype.submitClick=function(){window.mainHadlers=new i.MainHandlers,window.mainHadlers.submitClick()},e.prototype.deletePoints=function(){window.mainHadlers=new i.MainHandlers,window.mainHadlers.deletePoints()},e}()}),define("mainHandlers",["exports","./supportingHandlers","./table","aurelia-plugins-cookies","jquery","jquery-ui-dist"],function(e,t,n,i,a){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.MainHandlers=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a);e.MainHandlers=function(){function e(){o(this,e)}return e.prototype.submitClick=function(){window.supportingHadlers=new t.SupportingHandlers;var e=window.supportingHadlers.checkButtonsX(),n=window.supportingHadlers.checkButtonsR(),i=window.supportingHadlers.checkTextY();if(e&&i&&n){var a=Number(document.getElementById("hidden_r").value),o=Number(document.getElementById("hidden_x").value),r=window.supportingHadlers.findCoordinate(Number(document.getElementById("y").value));r=window.supportingHadlers.makeOriginalCoordinates(r),this.sendSinglePoint(o,r,a)}},e.prototype.click=function(e){if(window.supportingHadlers=new t.SupportingHandlers,0!=supportingHadlers.checkButtonsR()){var n=document.getElementById("interactive-area").getBoundingClientRect().left,i=document.getElementById("interactive-area").getBoundingClientRect().top,a=Number(document.getElementById("hidden_r").value),o=supportingHadlers.makeOriginalCoordinates(e.clientX-n),r=-supportingHadlers.makeOriginalCoordinates(e.clientY-i);this.sendSinglePoint(o,r,a)}},e.prototype.radiusChangedHandler=function(){if(window.supportingHadlers=new t.SupportingHandlers,window.table=new n.Table,window.supportingHadlers.checkButtonsR()){var e=Number(document.getElementById("hidden_r").value);window.interactiveArea.setRadius(e),r.ajax({url:"/change_r",type:"GET",data:{r:e},success:function(e){var t,n=JSON.parse(e.X),i=JSON.parse(e.Y),a=JSON.parse(e.R),o=JSON.parse(e.isInside),r=JSON.parse(e.color);document.getElementById("answer").innerHTML=window.table.tablePrintHeader();for(var s=0;s<n.length;s++)t=r[s]?"green":"red",window.interactiveArea.drawPoint(window.supportingHadlers.findCoordinate(n[s]),400-window.supportingHadlers.findCoordinate(i[s]),t),document.getElementById("answer").innerHTML+=window.table.tableAddRow(n[s],i[s],a[s],o[s],t)}})}},e.prototype.sendSinglePoint=function(e,i,a){r.ajax({url:"/add_point",type:"GET",data:{x:e,y:i,r:a},success:function(e){window.table=new n.Table,window.supportingHadlers=new t.SupportingHandlers;var i;i=e.color?"green":"red",document.getElementById("answer").innerHTML+=window.table.tableAddRow(e.X,e.Y,e.R,e.color,i),window.interactiveArea.drawPoint(window.supportingHadlers.findCoordinate(e.X),400-window.supportingHadlers.findCoordinate(e.Y),i)}})},e.prototype.deletePoints=function(){window.table=new n.Table,document.getElementById("answer").innerHTML=window.table.tablePrintHeader(),r.ajax({url:"/remove_points",type:"GET",data:{},success:function(t){window.mainHadlers=new e,window.mainHadlers.radiusChangedHandler()}})},e}()}),define("register",["exports","aurelia-plugins-cookies","aurelia-fetch-client","aurelia-router"],function(e,t,n,i){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.LoginApplication=void 0;new n.HttpClient,e.LoginApplication=function(){function e(n){a(this,e),null!=t.Cookies.get("login")&&(document.location.href="/#/mainApplication",location.reload()),this.bio="Sashcha",this.group="3202",this.var="102",this.name="",this.pass="",this.API="http://localhost:9000",this.router=n}return e.prototype.determineActivationStrategy=function(){return i.activationStrategy.replace},e.prototype.process=function(){},e.prototype.signup=function(){var e=this.getName(),n=this.getPass();null!=e&&null!=n&&$.ajax({url:"/register",type:"GET",data:{username:e,password:n},success:function(e){var n=JSON.parse(e.status);1==n?document.getElementById("wrong").innerHTML="User already exist":2==n?document.getElementById("wrong").innerHTML="Incorrect Login":3==n?document.getElementById("wrong").innerHTML="Incorrect Password, 4 symbols at least":(t.Cookies.put("login",e.login),window.location.replace("#/mainApplication"),window.location.reload(!1))}})},e.prototype.getName=function(){return 0==this.name.length?(document.getElementById("wrong").innerHTML="Please enter your login and password",null):(document.getElementById("wrong").innerHTML="",this.name)},e.prototype.getPass=function(){return 0==this.pass.length?(document.getElementById("wrong").innerHTML="Please enter your login and password",null):(document.getElementById("wrong").innerHTML="",this.pass)},e}()}),define("supportingHandlers",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.SupportingHandlers=function(){function e(){t(this,e)}return e.prototype.findCoordinate=function(e){Number(document.getElementById("hidden_r").value);return e<0?200-40*Math.abs(e):e>0?200+40*e:0==e?200:void 0},e.prototype.makeOriginalCoordinates=function(e){var t=Number(document.getElementById("hidden_r").value);return 0<=e&&e<200?(200-e)/(40*t)*-t:200<e&&e<=400?t*((e-200)/(40*t)):200==e?0:void 0},e.prototype.isNumeric=function(e){return/^[-+]?[0-9]+(\.[0-9]+)?$/.test(e)},e.prototype.checkTextY=function(){var e=document.getElementById("y").value,t="";return 0==e.length?t="Заполните это поле!":(!this.isNumeric(e)||e<=-5||e>=3)&&(t="Введено некорректное значение у!"),document.getElementById("text_fail_y").innerHTML=t,0==t.length},e.prototype.setX=function(e){var t=document.getElementsByClassName("button_pressed_x");document.getElementById("hidden_x").value=e;for(var n=0;n<t.length;++n)t[n].className="button_x";document.getElementById("x="+e).className="button_pressed_x"},e.prototype.checkButtonsX=function(){var e="";return""==document.getElementById("hidden_x").value&&(e="Значение X не выбрано!"),document.getElementById("x_fail").innerHTML=e,0==e.length},e.prototype.setR=function(e){var t=document.getElementsByClassName("button_pressed_r");document.getElementById("hidden_r").value=e;for(var n=0;n<t.length;++n)t[n].className="button_r";document.getElementById("r="+e).className="button_pressed_r"},e.prototype.checkButtonsR=function(){var e="";return""==document.getElementById("hidden_r").value&&(e="Значение R не выбрано!"),document.getElementById("r_fail").innerHTML=e,0==e.length},e}()}),define("table",["exports"],function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.Table=function(){function e(){t(this,e)}return e.prototype.tablePrintHeader=function(){var e="";return e+='<table id="results-table"><tr>',e+="<td> X </td><td> Y </td><td> R </td><td> isInside </td><td> color </td>",e+="</tr>"},e.prototype.tableAddRow=function(e,t,n,i,a){var o="";return o+="<tr>",o+="<td>"+e+"</td><td>"+t+"</td><td>"+n+"</td><td>"+i+"</td><td>"+a+"</td>",o+="</tr>"},e.prototype.closeTable=function(){return"</table>"},e}()}),define("resources/index",["exports"],function(e){"use strict";function t(e){}Object.defineProperty(e,"__esModule",{value:!0}),e.configure=t}),define("text!app.html",["module"],function(e){e.exports="<template><router-view></router-view></template>"}),define("text!login.html",["module"],function(e){e.exports='<template style="overflow:hidden"><link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"><\/script><div class="navbar navbar-inverse navbar-fixed-top" role="navigation"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"><span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand">Play & Aurelia ^_^</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav navbar-left"></ul><ul class="nav navbar-nav navbar-right"><li><a href="#/register">Register</a></li></ul></div></div></div><div class="row" style="margin-top:200px"><div class="col-sm-4 col-sm-offset-4"><div class="panel panel-default"><div class="panel-heading" style="white-space:nowrap"><h3 id="wrong" class="panel-title" style="display:inline-block">Log in here!</h3></div><div class="panel-body"><fieldset><div class="form-group"><input id="name" value.bind="name" class="form-control" placeholder="Name" type="text"><br></div><div class="form-group"><input id="pass" value.bind="pass" class="form-control" placeholder="Name" type="password"><br></div><input class="btn btn-lg btn-success btn-block" type="submit" value="Login" click.trigger="signin()"></fieldset></div></div></div></div><div id="header" style="margin-top:255px;text-align:center"> ${bio}, Группа ${group} <br>Вариант ${var} <br></div></template>'}),define("text!logout.html",["module"],function(e){e.exports="<template></template>"}),define("text!mainApplication.html",["module"],function(e){e.exports='<template><link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"><div class="navbar navbar-inverse navbar-fixed-top" role="navigation"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"><span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand">Play & Aurelia ^_^</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav navbar-left"></ul><ul class="nav navbar-nav navbar-right"><li><a href="#/logout">Logout</a></li></ul></div></div></div><h2>${mainInfo}</h2><input type="button" id="submit" value="Отправить" click.trigger="submitClick()"> <input type="button" id="clear" value="Очистить" click.trigger="deletePoints()"><p align="center"><b>X=</b> <input id="x=-5" class="button_x" type="button" name="x" value="-5" click.trigger="pressedX(-5)"> <input id="x=-4" class="button_x" type="button" name="x" value="-4" click.trigger="pressedX(-4)"> <input id="x=-3" class="button_x" type="button" name="x" value="-3" click.trigger="pressedX(-3)"> <input id="x=-2" class="button_x" type="button" name="x" value="-2" click.trigger="pressedX(-2)"> <input id="x=-1" class="button_x" type="button" name="x" value="-1" click.trigger="pressedX(-1)"> <input id="x=0" class="button_x" type="button" name="x" value="0" click.trigger="pressedX(0)"> <input id="x=1" class="button_x" type="button" name="x" value="1" click.trigger="pressedX(1)"> <input id="x=2" class="button_x" type="button" name="x" value="2" click.trigger="pressedX(2)"> <input id="x=3" class="button_x" type="button" name="x" value="3" click.trigger="pressedX(3)"> <input type="hidden" id="hidden_x" name="x" value=""></p><p id="x_fail"></p><p><input id="y" name="y" placeholder="-5<y<3" align="center" type="text" input.trigger="checkText()"></p><p id="text_fail_y"></p><p></p><p align="center"><b>R=</b> <input id="r=1" class="button_r" type="button" name="r" value="1" click.trigger="pressedR(1)"> <input id="r=2" class="button_r" type="button" name="r" value="2" click.trigger="pressedR(2)"> <input id="r=3" class="button_r" type="button" name="r" value="3" click.trigger="pressedR(3)"> <input type="hidden" id="hidden_r" name="r" value=""></p><p id="r_fail"></p><div class="container"><div class="box"><canvas id="interactive-area" width="400px" height="400px"></canvas><div id="scrollable_tarble"><table id="answer" style="border-spacing:50px 0;overflow:scroll"></table></div></div></div></template>'}),define("text!register.html",["module"],function(e){e.exports='<template><link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"><div class="navbar navbar-inverse navbar-fixed-top" role="navigation"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"><span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand">Play & Aurelia ^_^</a></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav navbar-left"></ul><ul class="nav navbar-nav navbar-right"><li><a href="#/login">Login</a></li></ul></div></div></div><div class="row" style="margin-top:200px"><div class="col-sm-4 col-sm-offset-4"><div class="panel panel-default"><div class="panel-heading" style="white-space:nowrap"><h3 id="wrong" class="panel-title" style="display:inline-block">Register here!</h3></div><div class="panel-body"><fieldset><div class="form-group"><input id="name" value.bind="name" class="form-control" placeholder="Name" type="text"><br></div><div class="form-group"><input id="pass" value.bind="pass" class="form-control" placeholder="Name" type="password"><br></div><input class="btn btn-lg btn-success btn-block" type="submit" value="Register" click.trigger="signup()"></fieldset></div></div></div></div><div id="header" style="margin-top:255px;text-align:center"> ${bio}, Группа ${group} <br>Вариант ${var} <br></div></template>'});