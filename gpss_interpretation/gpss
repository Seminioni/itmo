TU5       TABLE	M1,100,100,20
pribor1	STORAGE	2   ; задание числа приборов в устройстве с именем pribor1

GENERATE	(Exponential(1,0,500))    ; 1 – номер стандартного генератора равномерно распределенных случайных величин
                                        0 – смещение вырабатываемой случайной величины
                                        500 – среднее значение интервала



SMO1                                ; Вход в СМО-1 с неограниченным накопителем
    QUEUE	11	                    ; Очередь SMO1 c именем 11
	QUEUE	12                      ; Очередь SMO1 c именем 12
    ENTER	pribor1                 ; попытка занять один из приборов устройства pribor1
	DEPART	11                      ; регистрация момента покидания заявки очереди 11
	ADVANCE	(Exponential(1,0,400))  ; задержка заявки в среднем на со ср.зн = 400 единиц модельного времени
	LEAVE	pribor1                 ; освобождение одного прибора многоканального устройства pribor1
	DEPART	12                      ; регистрация момента покидания заявки очереди 12

	TRANSFER	0.1,,SMO3           ; Переправить 10% заявок в СМО-3 (оставшиеся 90% пойдут в СМО-2)



SMO2                                ; Вход в СМО-2 с ограниченным накопителем
    TEST L	Q2,4,drop1              ; L - меньше. проверка длины очереди с именем Q2 - сравнивается c 4 -
                                        если указанное условие не выполняется передаем drop1
	QUEUE	2                       ; Очередь SMO2 c именем 2
	SEIZE	pribor2                 ; попытка занять устройство pribor2
	DEPART	2                       ; отметка момента покидания заявкой очереди 2
	ADVANCE	(Exponential(1,0,400))  ; задержка на время exp со ср.зн = 400 единицы времени
	RELEASE	pribor2                 ; освобождение прибора с именем pribor2
	TRANSFER	,quit               ; безусловная передача транзакта в узел quit



SMO3                                ; Вход в СМО-3 с ограниченным накопителем
    TEST L	Q3,2,drop2              ; L - меньше. проверка длины очереди с именем Q3 - сравнивается c 2 -
                                        если указанное условие не выполняется передаем drop1
	QUEUE	3                       ; Очередь SMO3 c именем 3
	SEIZE	pribor3                 ; попытка занять устройство pribor3
	DEPART	3                       ; отметка момента покидания заявкой очереди 3
	ADVANCE	(Exponential(1,0,400))  ; задержка заявки в среднем на со ср.зн = 400 единиц модельного времени
	RELEASE	pribor3                 ; освобождение прибора с именем pribor3

quit	TABULATE 	TU5
	    TERMINATE	1               ; удаление заявки из модели
drop1	TERMINATE	1               ; удаление заявки из модели
drop2	TERMINATE	1               ; удаление заявки из модели
